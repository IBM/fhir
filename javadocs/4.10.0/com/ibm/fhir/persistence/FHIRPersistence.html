<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.13) on Wed Nov 17 16:34:50 UTC 2021 -->
<title>FHIRPersistence (IBM FHIR Server)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-11-17">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FHIRPersistence (IBM FHIR Server)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":18,"i3":18,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":18,"i10":18,"i11":18,"i12":6,"i13":18,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FHIRPersistence.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
</ul>
<div class="aboutLanguage"><a href="/FHIR" class="bx--header__name" target="_parent"><span>IBM</span>&nbsp;FHIRÂ®&nbsp;Server</a></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../index.html?com/ibm/fhir/persistence/FHIRPersistence.html" target="_top">Frames</a></li>
<li><a href="FHIRPersistence.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.ibm.fhir.persistence</a></div>
<h2 title="Interface FHIRPersistence" class="title">Interface FHIRPersistence</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="jdbc/impl/FHIRPersistenceJDBCImpl.html" title="class in com.ibm.fhir.persistence.jdbc.impl">FHIRPersistenceJDBCImpl</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">FHIRPersistence</span></pre>
<div class="block">This interface defines the contract between the FHIR Server's REST API layer and the underlying
 persistence layer that is responsible for interacting with a particular datastore to manage
 instances of FHIR Resources.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="ResourceChangeLogRecord.html" title="class in com.ibm.fhir.persistence">ResourceChangeLogRecord</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#changes(int,java.time.Instant,java.lang.Long,java.lang.String)">changes</a></span>&#8203;(int&nbsp;resourceCount,
       <a href="https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html?is-external=true" title="class or interface in java.time" class="externalLink">Instant</a>&nbsp;fromLastModified,
       <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang" class="externalLink">Long</a>&nbsp;afterResourceId,
       <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;resourceTypeName)</code></th>
<td class="colLast">
<div class="block">Fetch up to resourceCount records from the RESOURCE_CHANGE_LOG table</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>&lt;T extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;<br><a href="SingleResourceResult.html" title="class in com.ibm.fhir.persistence">SingleResourceResult</a>&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createWithMeta(com.ibm.fhir.persistence.context.FHIRPersistenceContext,T)">createWithMeta</a></span>&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
              T&nbsp;resource)</code></th>
<td class="colLast">
<div class="block">Stores a new FHIR Resource in the datastore.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>default &lt;T extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;<br><a href="SingleResourceResult.html" title="class in com.ibm.fhir.persistence">SingleResourceResult</a>&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#delete(com.ibm.fhir.persistence.context.FHIRPersistenceContext,java.lang.Class,java.lang.String)">delete</a></span>&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;T&gt;&nbsp;resourceType,
      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;logicalId)</code></th>
<td class="colLast">
<div class="block">Deletes the specified FHIR Resource from the datastore.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>default <a href="ResourceEraseRecord.html" title="class in com.ibm.fhir.persistence">ResourceEraseRecord</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#erase(com.ibm.fhir.persistence.erase.EraseDTO)">erase</a></span>&#8203;(<a href="erase/EraseDTO.html" title="class in com.ibm.fhir.persistence.erase">EraseDTO</a>&nbsp;eraseDto)</code></th>
<td class="colLast">
<div class="block">Erases part or a whole of a resource in the data layer</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="ResourcePayload.html" title="class in com.ibm.fhir.persistence">ResourcePayload</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fetchResourcePayloads(java.lang.Class,java.time.Instant,java.time.Instant,java.util.function.Function)">fetchResourcePayloads</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;? extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;&nbsp;resourceType,
                     <a href="https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html?is-external=true" title="class or interface in java.time" class="externalLink">Instant</a>&nbsp;fromLastModified,
                     <a href="https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html?is-external=true" title="class or interface in java.time" class="externalLink">Instant</a>&nbsp;toLastModified,
                     <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Function</a>&lt;<a href="ResourcePayload.html" title="class in com.ibm.fhir.persistence">ResourcePayload</a>,&#8203;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang" class="externalLink">Boolean</a>&gt;&nbsp;process)</code></th>
<td class="colLast">
<div class="block">Special function for high speed export of resource payloads.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#generateResourceId()">generateResourceId</a></span>()</code></th>
<td class="colLast">
<div class="block">Generates a resource ID.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../model/resource/OperationOutcome.html" title="class in com.ibm.fhir.model.resource">OperationOutcome</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getHealth()">getHealth</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns an OperationOutcome indicating the current status of the persistence store / backend</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="FHIRPersistenceTransaction.html" title="interface in com.ibm.fhir.persistence">FHIRPersistenceTransaction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTransaction()">getTransaction</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a FHIRPersistenceTransaction object associated with the persistence layer implementation in use.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>&lt;T extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;<br><a href="MultiResourceResult.html" title="class in com.ibm.fhir.persistence">MultiResourceResult</a>&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#history(com.ibm.fhir.persistence.context.FHIRPersistenceContext,java.lang.Class,java.lang.String)">history</a></span>&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
       <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;T&gt;&nbsp;resourceType,
       <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;logicalId)</code></th>
<td class="colLast">
<div class="block">Retrieves all of the versions of the specified FHIR Resource.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>default boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isChangesSupported()">isChangesSupported</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true iff the persistence layer implementation supports the "changes" special operation</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>default boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isDeleteSupported()">isDeleteSupported</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true iff the persistence layer implementation supports the "delete" operation.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>default boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isReindexSupported()">isReindexSupported</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true iff the persistence layer implementation supports the "reindex" special operation</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isTransactional()">isTransactional</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true iff the persistence layer implementation supports transactions.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>default boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isUpdateCreateEnabled()">isUpdateCreateEnabled</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true iff the persistence layer implementation supports update/create and it has been
 configured in the persistence config.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>&lt;T extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;<br><a href="SingleResourceResult.html" title="class in com.ibm.fhir.persistence">SingleResourceResult</a>&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#read(com.ibm.fhir.persistence.context.FHIRPersistenceContext,java.lang.Class,java.lang.String)">read</a></span>&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
    <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;T&gt;&nbsp;resourceType,
    <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;logicalId)</code></th>
<td class="colLast">
<div class="block">Retrieves the most recent version of a FHIR Resource from the datastore.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reindex(com.ibm.fhir.persistence.context.FHIRPersistenceContext,com.ibm.fhir.model.resource.OperationOutcome.Builder,java.time.Instant,java.util.List,java.lang.String)">reindex</a></span>&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
       <a href="../model/resource/OperationOutcome.Builder.html" title="class in com.ibm.fhir.model.resource">OperationOutcome.Builder</a>&nbsp;operationOutcomeResult,
       <a href="https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html?is-external=true" title="class or interface in java.time" class="externalLink">Instant</a>&nbsp;tstamp,
       <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang" class="externalLink">Long</a>&gt;&nbsp;indexIds,
       <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;resourceLogicalId)</code></th>
<td class="colLast">
<div class="block">Initiates reindexing for either a specified list of index IDs,
 or a randomly chosen resource.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang" class="externalLink">Long</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#retrieveIndex(int,java.time.Instant,java.lang.Long,java.lang.String)">retrieveIndex</a></span>&#8203;(int&nbsp;count,
             <a href="https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html?is-external=true" title="class or interface in java.time" class="externalLink">Instant</a>&nbsp;notModifiedAfter,
             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang" class="externalLink">Long</a>&nbsp;afterIndexId,
             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;resourceTypeName)</code></th>
<td class="colLast">
<div class="block">Retrieves a list of index IDs available for reindexing.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="MultiResourceResult.html" title="class in com.ibm.fhir.persistence">MultiResourceResult</a>&lt;<a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#search(com.ibm.fhir.persistence.context.FHIRPersistenceContext,java.lang.Class)">search</a></span>&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;? extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;&nbsp;resourceType)</code></th>
<td class="colLast">
<div class="block">Performs a search on the specified target resource type using the specified search parameters.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Future</a>&lt;<a href="payload/PayloadKey.html" title="class in com.ibm.fhir.persistence.payload">PayloadKey</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#storePayload(com.ibm.fhir.model.resource.Resource,java.lang.String,int)">storePayload</a></span>&#8203;(<a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&nbsp;resource,
            <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;logicalId,
            int&nbsp;newVersionNumber)</code></th>
<td class="colLast">
<div class="block">Offload payload storage to another provider.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>&lt;T extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;<br><a href="SingleResourceResult.html" title="class in com.ibm.fhir.persistence">SingleResourceResult</a>&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateWithMeta(com.ibm.fhir.persistence.context.FHIRPersistenceContext,T)">updateWithMeta</a></span>&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
              T&nbsp;resource)</code></th>
<td class="colLast">
<div class="block">Updates an existing FHIR Resource by storing a new version in the datastore.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>&lt;T extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;<br><a href="SingleResourceResult.html" title="class in com.ibm.fhir.persistence">SingleResourceResult</a>&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#vread(com.ibm.fhir.persistence.context.FHIRPersistenceContext,java.lang.Class,java.lang.String,java.lang.String)">vread</a></span>&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;T&gt;&nbsp;resourceType,
     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;logicalId,
     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;versionId)</code></th>
<td class="colLast">
<div class="block">Retrieves a specific version of a FHIR Resource from the datastore.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="createWithMeta(com.ibm.fhir.persistence.context.FHIRPersistenceContext,com.ibm.fhir.model.resource.Resource)">
<!--   -->
</a><a id="createWithMeta(com.ibm.fhir.persistence.context.FHIRPersistenceContext,T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createWithMeta</h4>
<pre class="methodSignature">&lt;T extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;&nbsp;<a href="SingleResourceResult.html" title="class in com.ibm.fhir.persistence">SingleResourceResult</a>&lt;T&gt;&nbsp;createWithMeta&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
                                                            T&nbsp;resource)
                                                     throws <a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></pre>
<div class="block">Stores a new FHIR Resource in the datastore. The resource is not modified before it is stored. It
 must therefore already include correct Meta fields. Should be used instead of
 method <a href="#create(com.ibm.fhir.persistence.context.FHIRPersistenceContext,T)"><code>create(FHIRPersistenceContext, Resource)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the FHIRPersistenceContext instance associated with the current request</dd>
<dd><code>resource</code> - the FHIR Resource instance to be created in the datastore</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a SingleResourceResult with the unmodified resource and/or
         an OperationOutcome with hints, warnings, or errors related to the interaction</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a id="read(com.ibm.fhir.persistence.context.FHIRPersistenceContext,java.lang.Class,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre class="methodSignature">&lt;T extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;&nbsp;<a href="SingleResourceResult.html" title="class in com.ibm.fhir.persistence">SingleResourceResult</a>&lt;T&gt;&nbsp;read&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
                                                  <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;T&gt;&nbsp;resourceType,
                                                  <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;logicalId)
                                           throws <a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></pre>
<div class="block">Retrieves the most recent version of a FHIR Resource from the datastore.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the FHIRPersistenceContext instance associated with the current request</dd>
<dd><code>resourceType</code> - the resource type of the Resource instance to be retrieved</dd>
<dd><code>logicalId</code> - the logical id of the Resource instance to be retrieved</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a SingleResourceResult with the FHIR Resource that was retrieved from the datastore and/or
         an OperationOutcome with hints, warnings, or errors related to the interaction</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a id="vread(com.ibm.fhir.persistence.context.FHIRPersistenceContext,java.lang.Class,java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>vread</h4>
<pre class="methodSignature">&lt;T extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;&nbsp;<a href="SingleResourceResult.html" title="class in com.ibm.fhir.persistence">SingleResourceResult</a>&lt;T&gt;&nbsp;vread&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
                                                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;T&gt;&nbsp;resourceType,
                                                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;logicalId,
                                                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;versionId)
                                            throws <a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></pre>
<div class="block">Retrieves a specific version of a FHIR Resource from the datastore.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the FHIRPersistenceContext instance associated with the current request</dd>
<dd><code>resourceType</code> - the resource type of the Resource instance to be retrieved</dd>
<dd><code>logicalId</code> - the logical id of the Resource instance to be retrieved</dd>
<dd><code>versionId</code> - the version of the Resource instance to be retrieved</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a SingleResourceResult with the FHIR Resource that was retrieved from the datastore and/or
         an OperationOutcome with hints, warnings, or errors related to the interaction</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a id="updateWithMeta(com.ibm.fhir.persistence.context.FHIRPersistenceContext,com.ibm.fhir.model.resource.Resource)">
<!--   -->
</a><a id="updateWithMeta(com.ibm.fhir.persistence.context.FHIRPersistenceContext,T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateWithMeta</h4>
<pre class="methodSignature">&lt;T extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;&nbsp;<a href="SingleResourceResult.html" title="class in com.ibm.fhir.persistence">SingleResourceResult</a>&lt;T&gt;&nbsp;updateWithMeta&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
                                                            T&nbsp;resource)
                                                     throws <a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></pre>
<div class="block">Updates an existing FHIR Resource by storing a new version in the datastore. This implementation
 is added to replace the deprecated <a href="#update(com.ibm.fhir.persistence.context.FHIRPersistenceContext,java.lang.String,T)"><code>update(FHIRPersistenceContext, String, Resource)</code></a> method
 This new method expects the resource being passed in to already be modified with correct
 meta and id information. It no longer updates the meta itself.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the FHIRPersistenceContext instance associated with the current request</dd>
<dd><code>resource</code> - the new contents of the FHIR Resource to be stored</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a SingleResourceResult with a copy of resource with fields updated by the persistence layer and/or
         an OperationOutcome with hints, warnings, or errors related to the interaction</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a id="delete(com.ibm.fhir.persistence.context.FHIRPersistenceContext,java.lang.Class,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre class="methodSignature">default&nbsp;&lt;T extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;&nbsp;<a href="SingleResourceResult.html" title="class in com.ibm.fhir.persistence">SingleResourceResult</a>&lt;T&gt;&nbsp;delete&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
                                                            <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;T&gt;&nbsp;resourceType,
                                                            <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;logicalId)
                                                     throws <a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></pre>
<div class="block">Deletes the specified FHIR Resource from the datastore.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the FHIRPersistenceContext instance associated with the current request</dd>
<dd><code>resourceType</code> - The type of FHIR Resource to be deleted.</dd>
<dd><code>logicalId</code> - the logical id of the FHIR Resource to be deleted</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a SingleResourceResult with the FHIR Resource that was deleted or null if the specified resource doesn't exist and/or
         an OperationOutcome with hints, warnings, or errors related to the interaction</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a id="history(com.ibm.fhir.persistence.context.FHIRPersistenceContext,java.lang.Class,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>history</h4>
<pre class="methodSignature">&lt;T extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;&nbsp;<a href="MultiResourceResult.html" title="class in com.ibm.fhir.persistence">MultiResourceResult</a>&lt;T&gt;&nbsp;history&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
                                                    <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;T&gt;&nbsp;resourceType,
                                                    <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;logicalId)
                                             throws <a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></pre>
<div class="block">Retrieves all of the versions of the specified FHIR Resource.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the FHIRPersistenceContext instance associated with the current request</dd>
<dd><code>resourceType</code> - the resource type of the Resource instances to be retrieved</dd>
<dd><code>logicalId</code> - the logical id of the Resource instances to be retrieved</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a MultiResourceResult with a list containing the available versions of the specified FHIR Resource and/or
         an OperationOutcome with hints, warnings, or errors related to the interaction</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a id="search(com.ibm.fhir.persistence.context.FHIRPersistenceContext,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>search</h4>
<pre class="methodSignature"><a href="MultiResourceResult.html" title="class in com.ibm.fhir.persistence">MultiResourceResult</a>&lt;<a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;&nbsp;search&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
                                     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;? extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;&nbsp;resourceType)
                              throws <a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></pre>
<div class="block">Performs a search on the specified target resource type using the specified search parameters.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the FHIRPersistenceContext instance associated with the current request</dd>
<dd><code>resourceType</code> - the resource type which is the target of the search</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a MultiResourceResult with the list of FHIR Resources in the search result set and/or
         an OperationOutcome with hints, warnings, or errors related to the interaction</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a id="isTransactional()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTransactional</h4>
<pre class="methodSignature">boolean&nbsp;isTransactional()</pre>
<div class="block">Returns true iff the persistence layer implementation supports transactions.</div>
</li>
</ul>
<a id="getHealth()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHealth</h4>
<pre class="methodSignature"><a href="../model/resource/OperationOutcome.html" title="class in com.ibm.fhir.model.resource">OperationOutcome</a>&nbsp;getHealth()
                    throws <a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></pre>
<div class="block">Returns an OperationOutcome indicating the current status of the persistence store / backend</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An OperationOutcome with a list of 0 or more OperationalOutcomeIssue indicating the status of the underlying datastore</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a id="getTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransaction</h4>
<pre class="methodSignature"><a href="FHIRPersistenceTransaction.html" title="interface in com.ibm.fhir.persistence">FHIRPersistenceTransaction</a>&nbsp;getTransaction()</pre>
<div class="block">Returns a FHIRPersistenceTransaction object associated with the persistence layer implementation in use.
 This can then be used to control transactional boundaries.</div>
</li>
</ul>
<a id="isDeleteSupported()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDeleteSupported</h4>
<pre class="methodSignature">default&nbsp;boolean&nbsp;isDeleteSupported()</pre>
<div class="block">Returns true iff the persistence layer implementation supports the "delete" operation.</div>
</li>
</ul>
<a id="isUpdateCreateEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUpdateCreateEnabled</h4>
<pre class="methodSignature">default&nbsp;boolean&nbsp;isUpdateCreateEnabled()</pre>
<div class="block">Returns true iff the persistence layer implementation supports update/create and it has been
 configured in the persistence config.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a id="generateResourceId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateResourceId</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;generateResourceId()</pre>
<div class="block">Generates a resource ID.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>resource ID</dd>
</dl>
</li>
</ul>
<a id="isReindexSupported()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReindexSupported</h4>
<pre class="methodSignature">default&nbsp;boolean&nbsp;isReindexSupported()</pre>
<div class="block">Returns true iff the persistence layer implementation supports the "reindex" special operation</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a id="reindex(com.ibm.fhir.persistence.context.FHIRPersistenceContext,com.ibm.fhir.model.resource.OperationOutcome.Builder,java.time.Instant,java.util.List,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reindex</h4>
<pre class="methodSignature">int&nbsp;reindex&#8203;(<a href="context/FHIRPersistenceContext.html" title="interface in com.ibm.fhir.persistence.context">FHIRPersistenceContext</a>&nbsp;context,
            <a href="../model/resource/OperationOutcome.Builder.html" title="class in com.ibm.fhir.model.resource">OperationOutcome.Builder</a>&nbsp;operationOutcomeResult,
            <a href="https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html?is-external=true" title="class or interface in java.time" class="externalLink">Instant</a>&nbsp;tstamp,
            <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang" class="externalLink">Long</a>&gt;&nbsp;indexIds,
            <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;resourceLogicalId)
     throws <a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></pre>
<div class="block">Initiates reindexing for either a specified list of index IDs,
 or a randomly chosen resource. The number of resources processed is returned.
 This can be used by a controller to continue processing until everything is complete.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the FHIRPersistenceContext instance associated with the current request.</dd>
<dd><code>operationOutcomeResult</code> - accumulate issues in this <a href="../model/resource/OperationOutcome.Builder.html" title="class in com.ibm.fhir.model.resource"><code>OperationOutcome.Builder</code></a></dd>
<dd><code>tstamp</code> - only reindex resources with a reindex_tstamp less than this</dd>
<dd><code>indexIds</code> - list of index IDs of resources to reindex, or null</dd>
<dd><code>resourceLogicalId</code> - resourceType/logicalId value of a specific resource to reindex, or null;
 this parameter is ignored if the indexIds parameter value is non-null</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>count of the number of resources reindexed by this call</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a id="fetchResourcePayloads(java.lang.Class,java.time.Instant,java.time.Instant,java.util.function.Function)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchResourcePayloads</h4>
<pre class="methodSignature"><a href="ResourcePayload.html" title="class in com.ibm.fhir.persistence">ResourcePayload</a>&nbsp;fetchResourcePayloads&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;? extends <a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&gt;&nbsp;resourceType,
                                      <a href="https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html?is-external=true" title="class or interface in java.time" class="externalLink">Instant</a>&nbsp;fromLastModified,
                                      <a href="https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html?is-external=true" title="class or interface in java.time" class="externalLink">Instant</a>&nbsp;toLastModified,
                                      <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Function</a>&lt;<a href="ResourcePayload.html" title="class in com.ibm.fhir.persistence">ResourcePayload</a>,&#8203;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang" class="externalLink">Boolean</a>&gt;&nbsp;process)
                               throws <a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></pre>
<div class="block">Special function for high speed export of resource payloads. The process
 function must process the InputStream before returning. Result processing
 will be stopped if the process function returns Boolean FALSE.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resourceType</code> - the resource type which is the target of the search</dd>
<dd><code>fromLastModified</code> - start reading from this timestamp</dd>
<dd><code>fromResourceId</code> - start reading from this resourceId if provided (can be null)</dd>
<dd><code>toLastModified</code> - do not read beyond this timestamp</dd>
<dd><code>spanSeconds</code> - max number of seconds to include fromLastModified</dd>
<dd><code>process</code> - function to process each payload record</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the last ResourcePayload processed, or null if no data was found</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a id="isChangesSupported()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isChangesSupported</h4>
<pre class="methodSignature">default&nbsp;boolean&nbsp;isChangesSupported()</pre>
<div class="block">Returns true iff the persistence layer implementation supports the "changes" special operation</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a id="changes(int,java.time.Instant,java.lang.Long,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changes</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="ResourceChangeLogRecord.html" title="class in com.ibm.fhir.persistence">ResourceChangeLogRecord</a>&gt;&nbsp;changes&#8203;(int&nbsp;resourceCount,
                                      <a href="https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html?is-external=true" title="class or interface in java.time" class="externalLink">Instant</a>&nbsp;fromLastModified,
                                      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang" class="externalLink">Long</a>&nbsp;afterResourceId,
                                      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;resourceTypeName)
                               throws <a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></pre>
<div class="block">Fetch up to resourceCount records from the RESOURCE_CHANGE_LOG table</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resourceCount</code> - the max number of resource change records to fetch</dd>
<dd><code>fromLastModified</code> - filter records with record.lastUpdate >= fromLastModified. Optional.</dd>
<dd><code>afterResourceId</code> - filter records with record.resourceId > afterResourceId. Optional.</dd>
<dd><code>resourceTypeName</code> - filter records with record.resourceType = resourceTypeName. Optional.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list containing up to resourceCount elements describing resources which have changed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a id="erase(com.ibm.fhir.persistence.erase.EraseDTO)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>erase</h4>
<pre class="methodSignature">default&nbsp;<a href="ResourceEraseRecord.html" title="class in com.ibm.fhir.persistence">ResourceEraseRecord</a>&nbsp;erase&#8203;(<a href="erase/EraseDTO.html" title="class in com.ibm.fhir.persistence.erase">EraseDTO</a>&nbsp;eraseDto)
                           throws <a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></pre>
<div class="block">Erases part or a whole of a resource in the data layer</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>eraseDto</code> - the details of the user input</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a record indicating the success or partial success of the erase</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a id="retrieveIndex(int,java.time.Instant,java.lang.Long,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieveIndex</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang" class="externalLink">Long</a>&gt;&nbsp;retrieveIndex&#8203;(int&nbsp;count,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html?is-external=true" title="class or interface in java.time" class="externalLink">Instant</a>&nbsp;notModifiedAfter,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang" class="externalLink">Long</a>&nbsp;afterIndexId,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;resourceTypeName)
                  throws <a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></pre>
<div class="block">Retrieves a list of index IDs available for reindexing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>count</code> - the maximum nuber of index IDs to retrieve</dd>
<dd><code>notModifiedAfter</code> - only retrieve index IDs for resources not last updated after the specified timestamp</dd>
<dd><code>afterIndexId</code> - retrieve index IDs starting after this specified index ID, or null to start with first index ID</dd>
<dd><code>resourceTypeName</code> - the resource type of index IDs to return, or null</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of index IDs available for reindexing</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a id="storePayload(com.ibm.fhir.model.resource.Resource,java.lang.String,int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>storePayload</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Future</a>&lt;<a href="payload/PayloadKey.html" title="class in com.ibm.fhir.persistence.payload">PayloadKey</a>&gt;&nbsp;storePayload&#8203;(<a href="../model/resource/Resource.html" title="class in com.ibm.fhir.model.resource">Resource</a>&nbsp;resource,
                                <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;logicalId,
                                int&nbsp;newVersionNumber)
                         throws <a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></pre>
<div class="block">Offload payload storage to another provider. If result is not null, the returned
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>Future</code></a> can be used to obtain the status of the operation. If the result
 is null, then the implementation does not support offloading and the payload must
 be stored in the traditional manner (e.g. in the RDBMS). A <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>Future</code></a> is used
 because the offloading storage operation may be asynchronous.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resource</code> - </dd>
<dd><code>logicalId</code> - </dd>
<dd><code>newVersionNumber</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/FHIRPersistenceException.html" title="class in com.ibm.fhir.persistence.exception">FHIRPersistenceException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FHIRPersistence.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
</ul>
<div class="aboutLanguage"><a href="/FHIR" class="bx--header__name" target="_parent"><span>IBM</span>&nbsp;FHIRÂ®&nbsp;Server</a></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../index.html?com/ibm/fhir/persistence/FHIRPersistence.html" target="_top">Frames</a></li>
<li><a href="FHIRPersistence.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright 2019, 2021. <a href="http://www.ibm.com">IBM Corporation<a><br></br>FHIR&reg; is the registered trademark of HL7 and is used with the permission of HL7.</small></p>
</footer>
</body>
</html>
